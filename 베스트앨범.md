# 베스트앨범

[문제](https://programmers.co.kr/learn/courses/30/lessons/42579)


```js
function solution(gen, pl) {
    const obj = {};
  
    gen.reduce((acc, cur, idx)=>{
      if (cur in obj) {
        obj[cur].count += pl[idx]
        obj[cur].playlist.push([pl[idx], idx])
      } else {
        obj[cur] = {count: 0, playlist: [] }
        obj[cur].count = pl[idx]
        obj[cur].playlist.push([pl[idx], idx])
      }
    }, obj);
    
    const arr = Object.entries(obj);
    arr.sort((a, b) => b[1].count - a[1].count)
    arr.forEach(el => {
      el[1].playlist.sort((a, b) => b[0] - a[0])
    })
    
    const res = []
    arr.map((el, idx) => {
      res.push(el[1].playlist[0][1])
      el[1].playlist[1] && res.push(el[1].playlist[1][1])
    });
        
    return res;
}
```